import{r,I as _,m as P,b$ as F,c0 as H,ag as V,b4 as g,bA as G,c1 as M,bh as w,z as y,C as x,bl as J,b3 as K,ah as C,bq as Q,ap as U,b7 as X}from"./index-DlYMrpPW.js";var Y={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Z=function(t,o){return r.createElement(_,P({},t,{ref:o,icon:Y}))},le=r.forwardRef(Z);const ee=e=>{const{componentCls:t,colorPrimary:o}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${o})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},te=F("Wave",e=>[ee(e)]),W=`${H}-wave-target`;function oe(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function $(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&oe(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function ne(e){const{borderTopColor:t,borderColor:o,backgroundColor:n}=getComputedStyle(e);return $(t)?t:$(o)?o:$(n)?n:null}function E(e){return Number.isNaN(e)?0:e}const se=e=>{const{className:t,target:o,component:n}=e,s=r.useRef(null),[c,l]=r.useState(null),[u,b]=r.useState([]),[f,a]=r.useState(0),[v,p]=r.useState(0),[I,N]=r.useState(0),[O,L]=r.useState(0),[T,j]=r.useState(!1),R={left:f,top:v,width:I,height:O,borderRadius:u.map(d=>`${d}px`).join(" ")};c&&(R["--wave-color"]=c);function S(){const d=getComputedStyle(o);l(ne(o));const i=d.position==="static",{borderLeftWidth:m,borderTopWidth:h}=d;a(i?o.offsetLeft:E(-parseFloat(m))),p(i?o.offsetTop:E(-parseFloat(h))),N(o.offsetWidth),L(o.offsetHeight);const{borderTopLeftRadius:B,borderTopRightRadius:q,borderBottomLeftRadius:A,borderBottomRightRadius:k}=d;b([B,q,k,A].map(D=>E(parseFloat(D))))}if(r.useEffect(()=>{if(o){const d=g(()=>{S(),j(!0)});let i;return typeof ResizeObserver<"u"&&(i=new ResizeObserver(S),i.observe(o)),()=>{g.cancel(d),i==null||i.disconnect()}}},[]),!T)return null;const z=(n==="Checkbox"||n==="Radio")&&(o==null?void 0:o.classList.contains(W));return r.createElement(G,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(d,i)=>{var m;if(i.deadline||i.propertyName==="opacity"){const h=(m=s.current)===null||m===void 0?void 0:m.parentElement;M(h).then(()=>{h==null||h.remove()})}return!1}},(d,i)=>{let{className:m}=d;return r.createElement("div",{ref:w(s,i),className:y(t,m,{"wave-quick":z}),style:R})})},re=(e,t)=>{var o;const{component:n}=t;if(n==="Checkbox"&&!(!((o=e.querySelector("input"))===null||o===void 0)&&o.checked))return;const s=document.createElement("div");s.style.position="absolute",s.style.left="0px",s.style.top="0px",e==null||e.insertBefore(s,e==null?void 0:e.firstChild),V(r.createElement(se,Object.assign({},t,{target:e})),s)},ae=(e,t,o)=>{const{wave:n}=r.useContext(x),[,s,c]=J(),l=K(f=>{const a=e.current;if(n!=null&&n.disabled||!a)return;const v=a.querySelector(`.${W}`)||a,{showEffect:p}=n||{};(p||re)(v,{className:t,token:s,component:o,event:f,hashId:c})}),u=r.useRef();return f=>{g.cancel(u.current),u.current=g(()=>{l(f)})}},ue=e=>{const{children:t,disabled:o,component:n}=e,{getPrefixCls:s}=r.useContext(x),c=r.useRef(null),l=s("wave"),[,u]=te(l),b=ae(c,y(l,u),n);if(C.useEffect(()=>{const a=c.current;if(!a||a.nodeType!==1||o)return;const v=p=>{!X(p.target)||!a.getAttribute||a.getAttribute("disabled")||a.disabled||a.className.includes("disabled")||a.className.includes("-leave")||b(p)};return a.addEventListener("click",v,!0),()=>{a.removeEventListener("click",v,!0)}},[o]),!C.isValidElement(t))return t??null;const f=Q(t)?w(t.ref,c):c;return U(t,{ref:f})};function ie(e,t,o){const{focusElCls:n,focus:s,borderElCls:c}=o,l=c?"> *":"",u=["hover",s?"focus":null,"active"].filter(Boolean).map(b=>`&:${b} ${l}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[u]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${l}`]:{zIndex:0}})}}function ce(e,t,o){const{borderElCls:n}=o,s=n?`> ${n}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${s}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function fe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:o}=e,n=`${o}-compact`;return{[n]:Object.assign(Object.assign({},ie(e,n,t)),ce(o,n,t))}}export{le as R,W as T,ue as W,fe as g};
