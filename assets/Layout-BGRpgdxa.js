import{a as B,b as W,c as O,t as U,r as i,d as x,bX as J,bY as K,j as e}from"./index-Ftj3_0aj.js";import{A as D,J as Q,K as X,L as Y,M as $,N as G,z as V,Q as Z}from"./index-BGp8naKY.js";const se=({title:A="Wood 3D",description:C="Wood 3D",keywords:T="3D",author:H="Wood 3D",children:z})=>{var y,g,k,v,b,M;const h=B(),{pathname:I}=W(),p=O(),{token:{colorPrimary:N}}=U.useToken(),[F,m]=i.useState(!1),f=i.useRef(null),t=x(n=>n.menu),j=x(n=>n.menu.status),{user:s}=x(n=>n.auth),P=n=>{const o=new DOMParser().parseFromString(n,"text/html"),a=[];return o.querySelectorAll(".nav__menu > ul > li").forEach(d=>{const E=d.querySelector(".nav__link > a"),L={key:E.getAttribute("href"),label:E.textContent.trim()},R=d.querySelectorAll(".dropdown__menu.dropdown-aris > li"),u=[];R.forEach(S=>{const w=S.querySelector(".dropdown__link > h4 > a"),l={key:w.getAttribute("href"),label:w.textContent.trim(),children:[]};S.querySelectorAll(".dropdown__submenu.dropdown-aris > li > a").forEach(_=>{l.children.push({key:_.getAttribute("href"),label:_.textContent.trim()})}),l.children.length>0?u.push(l):u.push({label:l.label,key:l.key})}),u.length>0&&(L.children=u),a.push(L)}),a};function q(n){return n.match(/(\b\S)?/g).join("").match(/(^\S|\S$)?/g).join("").toUpperCase()}return i.useEffect(()=>{window.scrollTo(0,0)},[I]),i.useEffect(()=>{const n=o=>{const a=o.target.closest("a");if(a&&a.href){const c=new URL(a.href),d=c.pathname+c.search+c.hash;c.origin===window.location.origin&&(o.preventDefault(),h(d))}},r=document.getElementById("root");return r&&r.addEventListener("click",n),()=>{r&&r.removeEventListener("click",n)}},[h]),i.useEffect(()=>{j==="idle"&&p(J())},[p,j]),i.useEffect(()=>{var n;if((n=t==null?void 0:t.menuItems)!=null&&n.header){const r=document.getElementById("menu-mobile"),o=()=>m(!0);return r&&r.addEventListener("click",o),()=>{r&&r.removeEventListener("click",o)}}},[t]),i.useEffect(()=>{const n=document.getElementById("icon-user");if(s!=null&&s.userType&&n){n.innerHTML="",f.current||(f.current=K(n));const r=f.current;s!=null&&s.src?r.render(e.jsx(D,{src:s==null?void 0:s.src,size:40})):r.render(e.jsx(D,{style:{backgroundColor:N},size:40,children:q(s==null?void 0:s.name)}))}},[s,t]),e.jsxs(Q,{children:[e.jsxs(X,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"description",content:C}),e.jsx("meta",{name:"keywords",content:T}),e.jsx("meta",{name:"author",content:H}),e.jsx("title",{children:A})]}),((y=t==null?void 0:t.menuItems)==null?void 0:y.css)&&e.jsx(e.Fragment,{children:e.jsx("style",{dangerouslySetInnerHTML:{__html:(g=t==null?void 0:t.menuItems)==null?void 0:g.css}})}),((k=t==null?void 0:t.menuItems)==null?void 0:k.header)&&e.jsx(e.Fragment,{children:e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:500},children:e.jsx("div",{dangerouslySetInnerHTML:{__html:(v=t==null?void 0:t.menuItems)==null?void 0:v.header}})})}),e.jsx("div",{style:{minHeight:"calc(93vh - 6rem)"},children:z}),e.jsx("div",{dangerouslySetInnerHTML:{__html:(b=t==null?void 0:t.menuItems)==null?void 0:b.footer}}),e.jsx(Y,{title:"Tự Học 3D",placement:"left",onClose:()=>m(!1),open:F,width:256,children:e.jsxs("div",{className:"flex flex-col justify-between",style:{height:"100%"},children:[e.jsx($,{mode:"inline",onClick:n=>{m(!1),setTimeout(()=>{h(n.key)},500)},style:{width:256},items:P((M=t==null?void 0:t.menuItems)==null?void 0:M.header)}),e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"flex items-center gap-2 my-2",children:e.jsx(G,{size:22})}),e.jsx("div",{className:"flex items-center gap-2 my-2",children:e.jsx(V,{size:22})}),e.jsx("div",{className:"flex items-center gap-2 my-2",children:e.jsx(Z,{size:22})})]})]})})]})};export{se as L};
