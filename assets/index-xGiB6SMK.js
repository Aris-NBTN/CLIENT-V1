import{ah as U,r as l,C as z,aU as X,aW as J,a8 as D,z as A,y as Q,ai as T}from"./index-DlYMrpPW.js";import{C as Y}from"./index-DIwEvQnT.js";import{T as Z,W as ee}from"./compact-item-DVIPdewI.js";import{u as L}from"./iconUtil-DQgXce6J.js";const W=U.createContext(null);var te=function(s,u){var o={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&u.indexOf(e)<0&&(o[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(s);n<e.length;n++)u.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(o[e[n]]=s[e[n]]);return o};const ae=(s,u)=>{var o;const{prefixCls:e,className:n,rootClassName:V,children:p,indeterminate:h=!1,style:E,onMouseEnter:b,onMouseLeave:i,skipGroup:y=!1,disabled:S}=s,r=te(s,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:O,direction:N,checkbox:d}=l.useContext(z),t=l.useContext(W),{isFormItemInput:P}=l.useContext(X),w=l.useContext(J),x=(o=(t==null?void 0:t.disabled)||S)!==null&&o!==void 0?o:w,f=l.useRef(r.value);l.useEffect(()=>{t==null||t.registerValue(r.value)},[]),l.useEffect(()=>{if(!y)return r.value!==f.current&&(t==null||t.cancelValue(f.current),t==null||t.registerValue(r.value),f.current=r.value),()=>t==null?void 0:t.cancelValue(r.value)},[r.value]);const c=O("checkbox",e),g=D(c),[j,k,I]=L(c,g),m=Object.assign({},r);t&&!y&&(m.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),t.toggleOption&&t.toggleOption({label:p,value:r.value})},m.name=t.name,m.checked=t.value.includes(r.value));const _=A(`${c}-wrapper`,{[`${c}-rtl`]:N==="rtl",[`${c}-wrapper-checked`]:m.checked,[`${c}-wrapper-disabled`]:x,[`${c}-wrapper-in-form-item`]:P},d==null?void 0:d.className,n,V,I,g,k),$=A({[`${c}-indeterminate`]:h},Z,k),G=h?"mixed":void 0;return j(l.createElement(ee,{component:"Checkbox",disabled:x},l.createElement("label",{className:_,style:Object.assign(Object.assign({},d==null?void 0:d.style),E),onMouseEnter:b,onMouseLeave:i},l.createElement(Y,Object.assign({"aria-checked":G},m,{prefixCls:c,className:$,disabled:x,ref:u})),p!==void 0&&l.createElement("span",null,p))))},q=l.forwardRef(ae);var se=function(s,u){var o={};for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&u.indexOf(e)<0&&(o[e]=s[e]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(s);n<e.length;n++)u.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(s,e[n])&&(o[e[n]]=s[e[n]]);return o};const le=l.forwardRef((s,u)=>{const{defaultValue:o,children:e,options:n=[],prefixCls:V,className:p,rootClassName:h,style:E,onChange:b}=s,i=se(s,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:y,direction:S}=l.useContext(z),[r,O]=l.useState(i.value||o||[]),[N,d]=l.useState([]);l.useEffect(()=>{"value"in i&&O(i.value||[])},[i.value]);const t=l.useMemo(()=>n.map(a=>typeof a=="string"||typeof a=="number"?{label:a,value:a}:a),[n]),P=a=>{d(v=>v.filter(C=>C!==a))},w=a=>{d(v=>[].concat(T(v),[a]))},x=a=>{const v=r.indexOf(a.value),C=T(r);v===-1?C.push(a.value):C.splice(v,1),"value"in i||O(C),b==null||b(C.filter(R=>N.includes(R)).sort((R,F)=>{const H=t.findIndex(M=>M.value===R),K=t.findIndex(M=>M.value===F);return H-K}))},f=y("checkbox",V),c=`${f}-group`,g=D(f),[j,k,I]=L(f,g),m=Q(i,["value","disabled"]),_=n.length?t.map(a=>l.createElement(q,{prefixCls:f,key:a.value.toString(),disabled:"disabled"in a?a.disabled:i.disabled,value:a.value,checked:r.includes(a.value),onChange:a.onChange,className:`${c}-item`,style:a.style,title:a.title,id:a.id,required:a.required},a.label)):e,$={toggleOption:x,value:r,disabled:i.disabled,name:i.name,registerValue:w,cancelValue:P},G=A(c,{[`${c}-rtl`]:S==="rtl"},p,h,I,g,k);return j(l.createElement("div",Object.assign({className:G,style:E},m,{ref:u}),l.createElement(W.Provider,{value:$},_)))}),B=q;B.Group=le;B.__ANT_CHECKBOX=!0;export{B as C};
