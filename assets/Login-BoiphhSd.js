import{b as R,a as S,c as P,r as c,d as H,t as q,e as g,j as e,S as E,f as V,N as b,l as G,g as A}from"./index-BNtG0Ekc.js";import{L as D}from"./Layout-BYkmyPu2.js";import{F as s}from"./index-6wLujAqu.js";import{T as l}from"./index-BVDJHnFr.js";import{I as i}from"./index-v6rslLfh.js";import{B as x}from"./button-CG3VThM4.js";import{R as j}from"./index--n0qtx8H.js";import{D as k}from"./index-BwA5t4mv.js";import"./index-DSI9Zlhq.js";import"./EllipsisOutlined-CkYp3gIV.js";import"./Overflow-CxLkIIwD.js";import"./context-dP7RccCG.js";import"./row-B7xXzInl.js";import"./responsiveObserver-VIBM4Zmw.js";import"./useLocale-D7yYjHCK.js";import"./compact-item-C9ku35Jf.js";import"./TextArea-DSuvcfXG.js";import"./CheckOutlined-uEQvN5XB.js";import"./SearchOutlined-CrC_pbgO.js";import"./index-CrjlLm2R.js";const ne=()=>{const F=R(),r=S(),N=P(),[h]=s.useForm(),[d]=s.useForm(),[f]=s.useForm(),[w,T]=c.useState(!0),[n,u]=c.useState(!0),[o,y]=c.useState(!1),{user:p}=H(a=>a.auth),{token:{colorPrimary:t}}=q.useToken(),L=a=>{var v;const m=((v=F.state)==null?void 0:v.from)||"/";if(m=="/checkout"){r(m);return}setTimeout(()=>{switch(a==null?void 0:a.userType){case"admin":r("/admin");break;case"user":r("/user");break;default:r("/");break}},500)},I=async a=>{const{user:m}=await N(G(a)).unwrap();L(m),h.resetFields(),g("auth","Đăng nhập thành công!","Chào mừng bạn đến với Wood 3D!")},C=async a=>{await N(A(a)).unwrap(),d.resetFields(),g("auth","Đăng ký thành công!","Chào mừng bạn đến với Wood 3D!"),r("/")},z=async a=>{console.log(a)};return c.useEffect(()=>{p&&Object.keys(p).length>0?p.userType==="user"?(g("auth","Chào mừng bạn trở lại!","Hãy học tập thật vui vẽ!"),r("/user")):r("/admin"):T(!1)},[]),e.jsx(e.Fragment,{children:w?e.jsx(E,{}):e.jsx(D,{children:e.jsx("div",{className:"aris",style:{background:"url(https://images.pexels.com/photos/1525041/pexels-photo-1525041.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1)",backgroundPosition:"center",backgroundSize:"cover",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100dvh",padding:"0 20px"},children:e.jsxs("div",{className:"form-containet",children:[e.jsxs("div",{className:"col col-login-1",style:{borderRadius:o?"0 35% 20% 0":n?"0 25% 25% 0":"0 20% 35% 0"},children:[e.jsx("div",{className:"image-layer",children:e.jsx("img",{crossOrigin:"anonymous | use-credentials",src:`${V}/login/full-moon.png`,className:"form-image-main fi-2"})}),e.jsxs("p",{className:"featured-words",children:["Created By ",e.jsx("span",{children:" Aris "})," ",e.jsx("br",{})," All Rights Reserved"]})]}),e.jsxs("div",{className:"col col-login-2",children:[e.jsxs("div",{className:"login-form",style:{opacity:n&&!o?"1":"0",height:"100%"},children:[e.jsx(l.Title,{level:2,style:{color:t},children:"ĐĂNG NHẬP"}),e.jsxs("div",{className:"form-inputs",children:[e.jsxs(s,{form:h,name:"customFormLo",layout:"vertical",onFinish:I,children:[e.jsx(s.Item,{label:"Email",className:"mb-2",name:"name",rules:[{required:!0,message:"Vui lòng nhập tên hoặc email!"}],children:e.jsx(i,{size:"large",className:"mb-2",placeholder:"Nhập tên hoặc email"})}),e.jsx(s.Item,{label:"Mật khẩu",className:"mb-2",name:"password",rules:[{required:!0,message:"Vui lòng nhập mật khẩu!"}],children:e.jsx(i.Password,{size:"large",className:"mb-2",placeholder:"Nhập mật khẩu"})})]}),e.jsxs("div",{className:"forget-pass my-3",children:[e.jsxs(l.Text,{children:["Chưa có tài khoản?",e.jsx("span",{onClick:()=>u(!1),children:e.jsx(l.Link,{className:"ms-2",style:{color:t},children:"Đăng ký "})})]}),e.jsx(l.Link,{onClick:()=>y(!0),className:"ms-2",children:"Quên mật khẩu ?"})]}),e.jsx(x,{size:"large",type:"primary",className:"w-full !mt-4",onClick:()=>h.submit(),style:{height:50},children:e.jsx(l.Title,{level:5,className:"!mb-0",children:"ĐĂNG NHẬP"})}),e.jsx("div",{className:"flex justify-center"})]})]}),e.jsxs("div",{className:"register-form",style:{left:n?"-50%":"50%",opacity:n?"0":"1"},children:[e.jsx(l.Title,{className:"my-2",level:2,style:{color:t},children:" ĐĂNG KÝ"}),e.jsxs("div",{className:"form-inputs",children:[e.jsxs(s,{form:d,name:"customFormReg",layout:"vertical",onFinish:C,children:[e.jsx(s.Item,{label:"Họ và tên",className:"my-2",name:"name",rules:[{required:!0,message:"Vui lòng nhập họ và tên!"}],children:e.jsx(i,{size:"large",placeholder:"Nhập họ và tên"})}),e.jsx(s.Item,{label:"Email",className:"my-2",name:"email",rules:[{required:!0,message:"Vui lòng nhập email!"},{type:"email",message:"Email không đúng định dạng!"}],children:e.jsx(i,{size:"large",placeholder:"Nhập email"})}),e.jsx(s.Item,{label:"Số điện thoại",className:"my-2",name:"phone",rules:[{required:!0,message:"Vui lòng nhập số điện thoại!"},{pattern:/^0\d{9}$/,message:"Số điện thoại phải có đúng 10 chữ số!"}],children:e.jsx(i,{size:"large",placeholder:"Nhập số điện thoại"})}),e.jsx(s.Item,{label:"Mật khẩu",className:"my-2",name:"password",rules:[{required:!0,message:"Vui lòng nhập mật khẩu!"}],children:e.jsx(i.Password,{size:"large",placeholder:"Nhập mật khẩu"})}),e.jsx(s.Item,{layout:"horizontal",label:"Giới tính",className:"gt my-2",name:"gender",rules:[{required:!0}],children:e.jsx("div",{className:"flex justify-end",children:e.jsxs(j.Group,{children:[e.jsx(j,{value:"Nam",children:"Nam"}),e.jsx(j,{value:"Nữ",children:"Nữ"})]})})})]}),e.jsx(x,{size:"large",type:"primary",className:"w-full",onClick:()=>d.submit(),style:{height:50},children:e.jsx(l.Title,{level:5,className:"!mb-0",children:"ĐĂNG KÝ"})}),e.jsx(k,{plain:!0,children:"Hoặc"}),e.jsx("div",{className:"forget-pass ad my-3",children:e.jsx("div",{children:e.jsx("span",{onClick:()=>u(!0),children:e.jsx(b,{className:"mt-3 link-form",style:{color:t},children:" Đăng Nhập"})})})})]})]}),e.jsxs("div",{className:"register-form",style:{left:o?"50%":"-50%",opacity:o?"1":"0"},children:[e.jsx(l.Title,{className:"mb-4",level:2,style:{color:t},children:" QUÊN MẬT KHẨU"}),e.jsxs("div",{className:"form-inputs",children:[e.jsx(s,{form:f,name:"forgotForm",layout:"vertical",onFinish:z,children:e.jsx(s.Item,{label:"Email",className:"mb-4",name:"email",rules:[{required:!0,message:"Vui lòng nhập tên hoặc email!"}],children:e.jsx(i,{size:"large",placeholder:"Nhập tên hoặc email để lấy lại mật khẩu"})})}),e.jsx(x,{size:"large",type:"primary",className:"w-full",onClick:()=>f.submit(),style:{height:50},children:e.jsx(l.Title,{level:5,className:"!mb-0",children:"ĐẶT LẠI MẬT KHẨU"})}),e.jsx(k,{plain:!0,children:"Hoặc"}),e.jsx("div",{className:"forget-pass my-3 flex !justify-center",children:e.jsx(b,{style:{color:t},onClick:()=>{y(!1),u(!0)},className:"link-form",children:"Đăng Nhập"})})]})]})]})]})})})})};export{ne as default};
