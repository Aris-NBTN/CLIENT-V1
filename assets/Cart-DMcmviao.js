import{c as D,d as i,r as e,a3 as E,U as F}from"./index-C6ierBjl.js";import{a as P,b as T,c as x}from"./Format-BVNbjJZS.js";const A=()=>{const r=D(),{cart:o}=i(a=>a.cart),c=i(a=>a.auth.user),[u,l]=e.useState([]),[m,d]=e.useState(0),[f,p]=e.useState(0),[h,S]=e.useState(0),[C,n]=e.useState(!0);return e.useEffect(()=>{const a=o==null?void 0:o.filter(t=>{var s;return(s=c==null?void 0:c.courses)==null?void 0:s.includes(t)});a.length>0&&a.forEach(t=>{r(E(t))});const g=t=>t.map(s=>({...s,price:s.price*(1-s.sale/100)}));F.cart({ids:o}).then(t=>{l(g(t)),d(P(t)),S(T(t)),p(x(t)),n(!1)}).catch(()=>{n(!1)})},[o,r,c]),{carts:u,estimated:m,total:f,discountedTotal:h,loading:C}};export{A as u};
