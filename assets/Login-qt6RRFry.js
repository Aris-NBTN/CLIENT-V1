import{b as z,a as R,c as P,r as m,d as H,t as q,e as p,j as e,S as E,f as V,N as b,l as G,g as A}from"./index-D_8e4c1c.js";import{L as B}from"./Layout-DMdqf4fT.js";import{F as s}from"./index-BK034_kP.js";import{T as l}from"./index-Dmxhq2rE.js";import{I as r}from"./index-BkckKk1m.js";import{B as x}from"./TextArea-CWw6Kbja.js";import{R as j}from"./index-BtrI-hsZ.js";import{D as k}from"./index-C77HSEF6.js";import"./index-DUMoXffW.js";import"./EllipsisOutlined-DotS4OyN.js";import"./Overflow-D7J6rgzg.js";import"./CheckOutlined-DdAy9wLR.js";import"./index-BMT87hfN.js";import"./row-9dsEpJck.js";import"./context-CZuqpdQ0.js";import"./SearchOutlined-CK_rNMR1.js";const le=()=>{const F=z(),i=R(),N=P(),[h]=s.useForm(),[d]=s.useForm(),[f]=s.useForm(),[w,T]=m.useState(!0),[n,u]=m.useState(!0),[o,y]=m.useState(!1),{user:g}=H(a=>a.auth),{token:{colorPrimary:t}}=q.useToken(),C=a=>{var v;const c=(v=F.state)==null?void 0:v.from;if(c){i(c);return}setTimeout(()=>{switch(a==null?void 0:a.userType){case"admin":i("/admin");break;case"user":i("/user");break;default:i("/");break}},500)},L=async a=>{const{user:c}=await N(G(a)).unwrap();C(c),h.resetFields(),p("auth","Đăng nhập thành công!","Chào mừng bạn đến với Chicken War Studio!")},I=async a=>{await N(A(a)).unwrap(),d.resetFields(),p("auth","Đăng ký thành công!","Chào mừng bạn đến với Chicken War Studio!"),i("/")},S=async a=>{console.log(a)};return m.useEffect(()=>{g&&Object.keys(g).length>0?g.userType==="user"?(p("auth","Chào mừng bạn trở lại!","Hãy học tập thật vui vẽ!"),i("/user")):i("/admin"):T(!1)},[]),e.jsx(e.Fragment,{children:w?e.jsx(E,{}):e.jsx(B,{title:"Đăng nhập",children:e.jsx("div",{className:"aris",style:{background:"url(https://images.pexels.com/photos/1525041/pexels-photo-1525041.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1)",backgroundPosition:"center",backgroundSize:"cover",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100dvh",padding:"0 20px"},children:e.jsxs("div",{className:"form-containet",children:[e.jsxs("div",{className:"col col-login-1",style:{borderRadius:o?"0 35% 20% 0":n?"0 25% 25% 0":"0 20% 35% 0"},children:[e.jsx("div",{className:"image-layer",children:e.jsx("img",{crossOrigin:"anonymous | use-credentials",src:`${V}/login/full-moon.png`,className:"form-image-main fi-2"})}),e.jsxs("p",{className:"featured-words",children:["Created By ",e.jsx("span",{children:" Aris "})," ",e.jsx("br",{})," All Rights Reserved"]})]}),e.jsxs("div",{className:"col col-login-2",children:[e.jsxs("div",{className:"login-form",style:{opacity:n&&!o?"1":"0",height:"100%"},children:[e.jsx(l.Title,{level:2,style:{color:t},children:"ĐĂNG NHẬP"}),e.jsxs("div",{className:"form-inputs",children:[e.jsxs(s,{form:h,name:"customFormLo",layout:"vertical",onFinish:L,children:[e.jsx(s.Item,{label:"Email",className:"mb-2",name:"name",rules:[{required:!0,message:"Vui lòng nhập tên hoặc email!"}],children:e.jsx(r,{size:"large",className:"mb-2",placeholder:"Nhập tên hoặc email"})}),e.jsx(s.Item,{label:"Mật khẩu",className:"mb-2",name:"password",rules:[{required:!0,message:"Vui lòng nhập mật khẩu!"}],children:e.jsx(r.Password,{size:"large",className:"mb-2",placeholder:"Nhập mật khẩu"})})]}),e.jsxs("div",{className:"forget-pass my-3",children:[e.jsxs(l.Text,{children:["Chưa có tài khoản?",e.jsx("span",{onClick:()=>u(!1),children:e.jsx(l.Link,{className:"ms-2",style:{color:t},children:"Đăng ký "})})]}),e.jsx(l.Link,{onClick:()=>y(!0),className:"ms-2",children:"Quên mật khẩu ?"})]}),e.jsx(x,{size:"large",type:"primary",className:"w-full !mt-4",onClick:()=>h.submit(),style:{height:50},children:e.jsx(l.Title,{level:5,className:"!mb-0",children:"ĐĂNG NHẬP"})}),e.jsx("div",{className:"flex justify-center"})]})]}),e.jsxs("div",{className:"register-form",style:{left:n?"-50%":"50%",opacity:n?"0":"1"},children:[e.jsx(l.Title,{className:"my-2",level:2,style:{color:t},children:" ĐĂNG KÝ"}),e.jsxs("div",{className:"form-inputs",children:[e.jsxs(s,{form:d,name:"customFormReg",layout:"vertical",onFinish:I,children:[e.jsx(s.Item,{label:"Họ và tên",className:"my-2",name:"name",rules:[{required:!0,message:"Vui lòng nhập họ và tên!"}],children:e.jsx(r,{size:"large",placeholder:"Nhập họ và tên"})}),e.jsx(s.Item,{label:"Email",className:"my-2",name:"email",rules:[{required:!0,message:"Vui lòng nhập email!"},{type:"email",message:"Email không đúng định dạng!"}],children:e.jsx(r,{size:"large",placeholder:"Nhập email"})}),e.jsx(s.Item,{label:"Số điện thoại",className:"my-2",name:"phone",rules:[{required:!0,message:"Vui lòng nhập số điện thoại!"},{pattern:/^0\d{9}$/,message:"Số điện thoại phải có đúng 10 chữ số!"}],children:e.jsx(r,{size:"large",placeholder:"Nhập số điện thoại"})}),e.jsx(s.Item,{label:"Mật khẩu",className:"my-2",name:"password",rules:[{required:!0,message:"Vui lòng nhập mật khẩu!"}],children:e.jsx(r.Password,{size:"large",placeholder:"Nhập mật khẩu"})}),e.jsx(s.Item,{layout:"horizontal",label:"Giới tính",className:"gt my-2",name:"gender",rules:[{required:!0}],children:e.jsx("div",{className:"flex justify-end",children:e.jsxs(j.Group,{children:[e.jsx(j,{value:"Nam",children:"Nam"}),e.jsx(j,{value:"Nữ",children:"Nữ"})]})})})]}),e.jsx(x,{size:"large",type:"primary",className:"w-full",onClick:()=>d.submit(),style:{height:50},children:e.jsx(l.Title,{level:5,className:"!mb-0",children:"ĐĂNG KÝ"})}),e.jsx(k,{plain:!0,children:"Hoặc"}),e.jsx("div",{className:"forget-pass ad my-3",children:e.jsx("div",{children:e.jsx("span",{onClick:()=>u(!0),children:e.jsx(b,{className:"mt-3 link-form",style:{color:t},children:" Đăng Nhập"})})})})]})]}),e.jsxs("div",{className:"register-form",style:{left:o?"50%":"-50%",opacity:o?"1":"0"},children:[e.jsx(l.Title,{className:"mb-4",level:2,style:{color:t},children:" QUÊN MẬT KHẨU"}),e.jsxs("div",{className:"form-inputs",children:[e.jsx(s,{form:f,name:"forgotForm",layout:"vertical",onFinish:S,children:e.jsx(s.Item,{label:"Email",className:"mb-4",name:"email",rules:[{required:!0,message:"Vui lòng nhập tên hoặc email!"}],children:e.jsx(r,{size:"large",placeholder:"Nhập tên hoặc email để lấy lại mật khẩu"})})}),e.jsx(x,{size:"large",type:"primary",className:"w-full",onClick:()=>f.submit(),style:{height:50},children:e.jsx(l.Title,{level:5,className:"!mb-0",children:"ĐẶT LẠI MẬT KHẨU"})}),e.jsx(k,{plain:!0,children:"Hoặc"}),e.jsx("div",{className:"forget-pass my-3 flex !justify-center",children:e.jsx(b,{style:{color:t},onClick:()=>{y(!1),u(!0)},className:"link-form",children:"Đăng Nhập"})})]})]})]})]})})})})};export{le as default};
