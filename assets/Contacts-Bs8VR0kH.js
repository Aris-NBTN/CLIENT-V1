import{r as n,bP as j,j as a}from"./index-CcDScCIj.js";import{c as f}from"./contact-CytRb3WP.js";import{b7 as b}from"./Layout-rT2rL0Mv.js";import{E as x}from"./Table-Bw4WQrz0.js";import{T as O}from"./index-DpwVJilV.js";import"./index-Do_G6Ik8.js";import"./TextArea-DcrxrkUU.js";import"./CheckOutlined-CzI6vixS.js";import"./EllipsisOutlined-DOAbwiOn.js";import"./Overflow-DYxonkPG.js";import"./index-BCiBb8i7.js";import"./index-DzmEW-zz.js";import"./index-GvQfN75r.js";import"./index-6EM9zGX5.js";import"./index-BeJqwAnw.js";import"./SearchOutlined-Cw6RRrfB.js";import"./addEventListener-upi1QI-R.js";import"./iconUtil-DAJEh9aL.js";import"./index-vZoN_5i3.js";import"./index-Bck3ohST.js";import"./index-Dtuy6ukZ.js";import"./index-koFm6nLQ.js";import"./row-Bv7HvGZ0.js";import"./index-DkcaiZIQ.js";import"./ActionButton-CiAlGdSe.js";const Q=()=>{const[r,h]=n.useState(),[u,c]=n.useState([]),[g,p]=n.useState([]);return n.useEffect(()=>{j.filesInFolder({folderName:"uploads/contacts"}).then(i=>{const e=i.newData.children;if(h(e),e.length>0){const o=e[0].name.split(".")[0];return f.get({filename:o}).then(d=>{e[0]={...e[0],details:d},c(e[0].details.data);const l=e[0].details.data.reduce((t,s)=>Object.keys(t).length>Object.keys(s).length?t:s),m=Object.keys(l).map(t=>({title:t.charAt(0).toUpperCase()+t.slice(1),dataIndex:t,key:t}));p(m)})}return e}).catch(i=>console.log(i))},[]),a.jsx(b,{title:"Liên hệ",header:"LIÊN HỆ",children:a.jsx(O,{onChange:i=>{f.get({filename:i.split(".")[0]}).then(e=>{r.map((o,d)=>{if(o.name===i){o.details=e,c(o.details.data);const l=o.details.data.reduce((t,s)=>Object.keys(t).length>Object.keys(s).length?t:s),m=Object.keys(l).map(t=>({title:t.charAt(0).toUpperCase()+t.slice(1),dataIndex:t,key:t}));p(m)}})})},type:"card",tabPosition:"left",items:r==null?void 0:r.map((i,e)=>({label:i.name,key:i.name,children:a.jsx(a.Fragment,{children:a.jsx(x,{colEdit:!1,dragMode:!1,data:u,columns:g})})}))})})};export{Q as default};
